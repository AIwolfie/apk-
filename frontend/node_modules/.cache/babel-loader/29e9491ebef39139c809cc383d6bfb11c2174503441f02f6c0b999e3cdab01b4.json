{"ast":null,"code":"var _jsxFileName = \"d:\\\\project\\\\AI apk gurdian\\\\frontend\\\\src\\\\FileUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FileUpload({\n  setScanning,\n  setReport\n}) {\n  _s();\n  const onDrop = useCallback(acceptedFiles => {\n    const file = acceptedFiles[0];\n    if (file && file.name.endsWith('.apk')) {\n      setScanning(true);\n      setReport(null);\n      const formData = new FormData();\n      formData.append('apkfile', file);\n      axios.post('http://localhost:5000/scan', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(response => {\n        setReport(response.data);\n      }).catch(error => {\n        console.error(\"Error uploading file:\", error);\n        alert(\"Scan failed. See console for details.\");\n      }).finally(() => {\n        setScanning(false);\n      });\n    } else {\n      alert(\"Please upload a valid .apk file.\");\n    }\n  }, [setScanning, setReport]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ...getRootProps(),\n    className: \"upload-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ...getInputProps()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), isDragActive ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Drop the .apk file here ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Drag & drop your .apk file here, or click to select\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(FileUpload, \"yd//yJtVY5DqPYzQY0xGsdgoRlk=\", false, function () {\n  return [useDropzone];\n});\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useCallback","useDropzone","axios","jsxDEV","_jsxDEV","FileUpload","setScanning","setReport","_s","onDrop","acceptedFiles","file","name","endsWith","formData","FormData","append","post","headers","then","response","data","catch","error","console","alert","finally","getRootProps","getInputProps","isDragActive","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["d:/project/AI apk gurdian/frontend/src/FileUpload.js"],"sourcesContent":["import React, { useCallback } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport axios from 'axios';\r\n\r\nfunction FileUpload({ setScanning, setReport }) {\r\n  const onDrop = useCallback(acceptedFiles => {\r\n    const file = acceptedFiles[0];\r\n    if (file && file.name.endsWith('.apk')) {\r\n      setScanning(true);\r\n      setReport(null);\r\n\r\n      const formData = new FormData();\r\n      formData.append('apkfile', file);\r\n\r\n      axios.post('http://localhost:5000/scan', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      }).then(response => {\r\n        setReport(response.data);\r\n      }).catch(error => {\r\n        console.error(\"Error uploading file:\", error);\r\n        alert(\"Scan failed. See console for details.\");\r\n      }).finally(() => {\r\n        setScanning(false);\r\n      });\r\n    } else {\r\n      alert(\"Please upload a valid .apk file.\");\r\n    }\r\n  }, [setScanning, setReport]);\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\r\n\r\n  return (\r\n    <div {...getRootProps()} className=\"upload-box\">\r\n      <input {...getInputProps()} />\r\n      {\r\n        isDragActive ?\r\n          <p>Drop the .apk file here ...</p> :\r\n          <p>Drag & drop your .apk file here, or click to select</p>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FileUpload;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,UAAUA,CAAC;EAAEC,WAAW;EAAEC;AAAU,CAAC,EAAE;EAAAC,EAAA;EAC9C,MAAMC,MAAM,GAAGT,WAAW,CAACU,aAAa,IAAI;IAC1C,MAAMC,IAAI,GAAGD,aAAa,CAAC,CAAC,CAAC;IAC7B,IAAIC,IAAI,IAAIA,IAAI,CAACC,IAAI,CAACC,QAAQ,CAAC,MAAM,CAAC,EAAE;MACtCP,WAAW,CAAC,IAAI,CAAC;MACjBC,SAAS,CAAC,IAAI,CAAC;MAEf,MAAMO,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEL,IAAI,CAAC;MAEhCT,KAAK,CAACe,IAAI,CAAC,4BAA4B,EAAEH,QAAQ,EAAE;QACjDI,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;QAClBb,SAAS,CAACa,QAAQ,CAACC,IAAI,CAAC;MAC1B,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;QAChBC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7CE,KAAK,CAAC,uCAAuC,CAAC;MAChD,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM;QACfpB,WAAW,CAAC,KAAK,CAAC;MACpB,CAAC,CAAC;IACJ,CAAC,MAAM;MACLmB,KAAK,CAAC,kCAAkC,CAAC;IAC3C;EACF,CAAC,EAAE,CAACnB,WAAW,EAAEC,SAAS,CAAC,CAAC;EAE5B,MAAM;IAAEoB,YAAY;IAAEC,aAAa;IAAEC;EAAa,CAAC,GAAG5B,WAAW,CAAC;IAAEQ;EAAO,CAAC,CAAC;EAE7E,oBACEL,OAAA;IAAA,GAASuB,YAAY,CAAC,CAAC;IAAEG,SAAS,EAAC,YAAY;IAAAC,QAAA,gBAC7C3B,OAAA;MAAA,GAAWwB,aAAa,CAAC;IAAC;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EAE5BN,YAAY,gBACVzB,OAAA;MAAA2B,QAAA,EAAG;IAA2B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAClC/B,OAAA;MAAA2B,QAAA,EAAG;IAAmD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAE3D,CAAC;AAEV;AAAC3B,EAAA,CAvCQH,UAAU;EAAA,QA2BqCJ,WAAW;AAAA;AAAAmC,EAAA,GA3B1D/B,UAAU;AAyCnB,eAAeA,UAAU;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}